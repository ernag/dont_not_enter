/*
 * fwu_mgr.h
 *
 *  Created on: May 8th, 2013
 *      Author: Rob Philip
 */

#ifndef FWU_MGR_H_
#define FWU_MGR_H_

////////////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////////////
#include <mqx.h>
#include <bsp.h>
#include "app_errors.h"
#include "con_mgr.h"
#include "whistlemessage.pb.h"

////////////////////////////////////////////////////////////////////////////////
// Defines
////////////////////////////////////////////////////////////////////////////////

#define MAX_FWU_URL_LEN    150
// Accel Event Object Flags which belong to accel_evt_obj_t.flags

////////////////////////////////////////////////////////////////////////////////
// Enums
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Event Object Definitions
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Callback Definitions
////////////////////////////////////////////////////////////////////////////////

void FWUMGR_Print_Package(void);
void FWUMGR_Send_Load_Status(uint32_t);

////////////////////////////////////////////////////////////////////////////////
// Declarations
////////////////////////////////////////////////////////////////////////////////

/*
 *   Initialization Routine for the FWUMGR.
 *   This must be called prior to using the FWUMGR.
 */
void FWUMGR_init(void);

/* 
 *   Process the checkin message. Block until complete
 */
void FWUMGR_Send_Checkin(void);

/*
 *   Event Manager Tasks to be started and used after FWUMGR_init().
 */
void FWU_tsk(uint_32 dummy);

#endif /* FWU_MGR_H_ */
